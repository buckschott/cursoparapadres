(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4090],{1142:(e,s,t)=>{"use strict";t.d(s,{U:()=>r});var a=t(9338);function r(){return(0,a.createBrowserClient)("https://qclacxcgfprkswuiboop.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjbGFjeGNnZnBya3N3dWlib29wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMTAwMDYsImV4cCI6MjA3ODY4NjAwNn0.FciBBWAgCDLB_BFEypmH5jbjsjPUkH3ij00u7PbG9gg")}},3321:(e,s,t)=>{"use strict";var a=t(4645);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},4621:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5155),r=t(2115),i=t(1142),c=t(3321);function l(){var e;let s=(0,c.useParams)().code,[t,l]=(0,r.useState)(!0),[n,d]=(0,r.useState)(null),[o,m]=(0,r.useState)(!1),x=(0,i.U)();(0,r.useEffect)(()=>{(async()=>{let{data:e,error:t}=await x.from("certificates").select("certificate_number, participant_name, course_type, issued_at, user_id").eq("verification_code",s).single();if(t||!e){m(!0),l(!1);return}let{data:a}=await x.from("profiles").select("legal_name, court_state, court_county, case_number").eq("id",e.user_id).single(),{data:r}=await x.from("course_progress").select("started_at, completed_at").eq("user_id",e.user_id).eq("course_type",e.course_type).single(),{data:i}=await x.from("purchases").select("purchased_at").eq("user_id",e.user_id).or(`course_type.eq.${e.course_type},course_type.eq.bundle`).limit(1);d({certificate_number:e.certificate_number,participant_name:e.participant_name||"",legal_name:a?.legal_name||e.participant_name||"Not provided",course_type:e.course_type,court_state:a?.court_state||"",court_county:a?.court_county||"",case_number:a?.case_number||"",issued_at:e.issued_at,purchased_at:i?.[0]?.purchased_at||e.issued_at,completed_at:r?.completed_at||e.issued_at}),l(!1)})()},[s]);let u=e=>{let s=new Date(e);return`${(s.getMonth()+1).toString().padStart(2,"0")}/${s.getDate().toString().padStart(2,"0")}/${s.getFullYear()}`};return t?(0,a.jsx)("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Verifying certificate..."})]})}):(0,a.jsx)("main",{className:"min-h-screen bg-gray-100 py-12 px-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-block mb-4",children:(0,a.jsx)("img",{src:"/logo.svg",alt:"Putting Kids First",className:"h-16 mx-auto",onError:e=>{e.currentTarget.style.display="none"}})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Certificate Verification"}),(0,a.jsx)("p",{className:"text-gray-600 font-brand",children:"Putting Kids First\xae"})]}),o?(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-red-500 px-6 py-4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-white",children:"Certificate Not Found"}),(0,a.jsx)("p",{className:"text-white/80 text-sm",children:"This certificate could not be verified"})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"The verification code entered does not match any certificate in our system. This could mean:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2 mb-6",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-500",children:"•"}),"The code was entered incorrectly"]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-500",children:"•"}),"The certificate does not exist"]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-500",children:"•"}),"The document may be fraudulent"]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Verification code attempted: ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:s})]})]})]}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-green-500 px-6 py-4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-white",children:"Certificate Verified"}),(0,a.jsx)("p",{className:"text-white/80 text-sm",children:"This certificate is authentic and valid"})]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Course Completed"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(e=n?.course_type||"","Florida"===(n?.court_state||"")?"Parent Education and Family Stabilization Course":({coparenting:"Co-Parenting Class",parenting:"Parenting Class",bundle:"Complete Parenting Program"})[e]||e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Participant Name"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n?.legal_name})]}),n?.court_state&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"State"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:n.court_state})]}),n?.court_county&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Filed"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:n.court_county})]})]}),n?.case_number&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"File Number"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:n.case_number})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Date Registered"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:u(n?.purchased_at||"")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Date Completed"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:u(n?.completed_at||"")})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Certificate Number"}),(0,a.jsx)("p",{className:"font-mono text-gray-900",children:n?.certificate_number})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Issuing Provider"}),(0,a.jsx)("p",{className:"text-gray-900 font-medium font-brand",children:"Putting Kids First\xae"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"info@cursoparapadres.org"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"888-777-2298"})]})]})]}),(0,a.jsxs)("div",{className:"text-center mt-8",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-brand",children:"Putting Kids First\xae • Established 1993"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"www.cursoparapadres.org"})]})]})})}},7533:(e,s,t)=>{Promise.resolve().then(t.bind(t,4621))}},e=>{e.O(0,[5666,9338,8441,3794,7358],()=>e(e.s=7533)),_N_E=e.O()}]);