(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4818],{2085:(e,t,i)=>{Promise.resolve().then(i.bind(i,9559))},9559:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(5155),n=i(2115);let l=(0,i(5666).UU)("https://qclacxcgfprkswuiboop.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjbGFjeGNnZnBya3N3dWlib29wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMTAwMDYsImV4cCI6MjA3ODY4NjAwNn0.FciBBWAgCDLB_BFEypmH5jbjsjPUkH3ij00u7PbG9gg");function o(e){if(e.first_name||e.last_name){let t=[];return e.first_name&&t.push(e.first_name.trim()),e.last_name&&t.push(e.last_name.trim()),t.join(" ")}return e.firm_name&&e.firm_name.trim()?e.firm_name.trim():e.email?e.email.split("@")[0]:"Unknown"}function d(e,t){return 0===t?20*(e>0):20*(e>=t/2)}let a=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"];function s(){let[e,t]=(0,n.useState)([]),[i,s]=(0,n.useState)(0),[p,x]=(0,n.useState)(!0),[c,f]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[y,b]=(0,n.useState)("all"),[j,v]=(0,n.useState)(null),[S,C]=(0,n.useState)(""),[_,w]=(0,n.useState)("referral_count"),[k,z]=(0,n.useState)("desc"),[A,W]=(0,n.useState)(""),[B,R]=(0,n.useState)([]),[N,E]=(0,n.useState)(!1),[I,L]=(0,n.useState)(null),[D,T]=(0,n.useState)({}),[F,M]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!async function(){let{count:e}=await l.from("attorneys").select("*",{count:"exact",head:!0});s(e||0)}()},[]);let $=(0,n.useCallback)(async()=>{x(!0);let e=l.from("attorneys").select("id, firm_name, first_name, last_name, email, phone, address, city, state, zip, referral_count, cards_sent, needs_review, certificate_email").limit(500);h&&(e=e.eq("state",h)),"review"===y&&(e=e.eq("needs_review",!0));let{data:i,error:r}=await e;if(r){console.error("Error:",r),x(!1);return}let n=i||[];if(c){let e=c.toLowerCase();n=n.filter(t=>o(t).toLowerCase().includes(e)||t.email&&t.email.toLowerCase().includes(e))}u&&"all"===y&&(n=n.filter(e=>d(e.referral_count,e.cards_sent)>0)),t(n),x(!1)},[c,h,u,y]);(0,n.useEffect)(()=>{$()},[$]),(0,n.useEffect)(()=>{let e=setTimeout(async()=>{if(A.length<2)return void R([]);E(!0);let e=A.toLowerCase(),{data:t,error:i}=await l.from("attorneys").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,firm_name.ilike.%${e}%,email.ilike.%${e}%`).order("referral_count",{ascending:!1}).limit(50);!i&&t&&R(t),E(!1)},300);return()=>clearTimeout(e)},[A]);let O=[...e].sort((e,t)=>{let i="",r="";switch(_){case"name":i=o(e).toLowerCase(),r=o(t).toLowerCase();break;case"email":i=(e.email||"").toLowerCase(),r=(t.email||"").toLowerCase();break;case"state":i=e.state||"",r=t.state||"";break;case"cards_sent":i=e.cards_sent,r=t.cards_sent;break;case"referral_count":i=e.referral_count,r=t.referral_count;break;case"cards_needed":i=d(e.referral_count,e.cards_sent),r=d(t.referral_count,t.cards_sent)}return"string"==typeof i?"asc"===k?i.localeCompare(r):r.localeCompare(i):"asc"===k?i-r:r-i}),U=e=>{_===e?z("asc"===k?"desc":"asc"):(w(e),z("desc"))},V=({field:e})=>_!==e?(0,r.jsx)("span",{style:{opacity:.3,marginLeft:"4px"},children:"↕"}):(0,r.jsx)("span",{style:{marginLeft:"4px"},children:"asc"===k?"↑":"↓"}),P=async(e,t)=>{await l.from("attorneys").update({cards_sent:t}).eq("id",e),v(null),$()},q=async e=>{await l.from("attorneys").update({needs_review:!1}).eq("id",e),$()},Z=async(e,t,i)=>{await l.from("attorneys").update({[t]:i}).eq("id",e)},J=e=>{L(e),T({firm_name:e.firm_name||"",first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",referral_count:e.referral_count||0,cards_sent:e.cards_sent||0,certificate_email:e.certificate_email||"",needs_review:e.needs_review||!1})},Y=async()=>{if(!I)return;M(!0);let{error:e}=await l.from("attorneys").update(D).eq("id",I.id);e?alert("Error saving: "+e.message):(t(e=>e.map(e=>e.id===I.id?{...e,...D}:e)),R(e=>e.map(e=>e.id===I.id?{...e,...D}:e)),L(null)),M(!1)},H=async()=>{if(!I||!confirm(`Are you sure you want to delete ${o(I)}?`))return;let{error:e}=await l.from("attorneys").delete().eq("id",I.id);e?alert("Error deleting: "+e.message):(t(e=>e.filter(e=>e.id!==I.id)),R(e=>e.filter(e=>e.id!==I.id)),L(null),$())},K=async()=>{if(!I)return;let e=prompt("Enter the email of the attorney to merge INTO this one (their referrals will be added, then they will be deleted):");if(!e)return;let{data:i}=await l.from("attorneys").select("*").ilike("email",e.trim()).single();if(!i)return void alert("Attorney not found with that email");if(i.id===I.id)return void alert("Cannot merge with itself");let r=(I.referral_count||0)+(i.referral_count||0);confirm(`Merge "${o(i)}" (${i.referral_count} referrals) into "${o(I)}"?

Total will be ${r} referrals.

"${o(i)}" will be DELETED.`)&&(await l.from("attorneys").update({referral_count:r}).eq("id",I.id),await l.from("attorneys").delete().eq("id",i.id),T(e=>({...e,referral_count:r})),t(e=>e.map(e=>e.id===I.id?{...e,referral_count:r}:e).filter(e=>e.id!==i.id)),R(e=>e.map(e=>e.id===I.id?{...e,referral_count:r}:e).filter(e=>e.id!==i.id)),alert("Merged successfully!"))},X=e.filter(e=>e.needs_review).length,G=e.filter(e=>d(e.referral_count,e.cards_sent)>0).length,Q=(e,t)=>({padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569",textTransform:"uppercase",letterSpacing:"0.3px",cursor:"pointer",userSelect:"none",width:t||"auto",whiteSpace:"nowrap"}),ee={width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"};return(0,r.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"20px",fontFamily:"'Courier Prime', Courier, monospace"},children:[(0,r.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsx)("h1",{style:{fontSize:"26px",fontWeight:"bold",marginBottom:"20px",color:"#1e293b"},children:"Attorney Database"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"4px",marginBottom:"0"},children:[(0,r.jsx)("button",{onClick:()=>b("all"),style:{padding:"10px 20px",borderRadius:"8px 8px 0 0",fontWeight:"600",fontSize:"14px",backgroundColor:"all"===y?"#fff":"#e2e8f0",color:"all"===y?"#1e293b":"#64748b",border:"none",cursor:"pointer"},children:"All Attorneys"}),(0,r.jsxs)("button",{onClick:()=>b("review"),style:{padding:"10px 20px",borderRadius:"8px 8px 0 0",fontWeight:"600",fontSize:"14px",backgroundColor:"review"===y?"#fff":"#e2e8f0",color:"review"===y?"#1e293b":"#64748b",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:["Needs Review",X>0&&(0,r.jsx)("span",{style:{backgroundColor:"#f97316",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},children:X})]}),(0,r.jsx)("button",{onClick:()=>b("search"),style:{padding:"10px 20px",borderRadius:"8px 8px 0 0",fontWeight:"600",fontSize:"14px",backgroundColor:"search"===y?"#fff":"#e2e8f0",color:"search"===y?"#1e293b":"#64748b",border:"none",cursor:"pointer"},children:"\uD83D\uDD0D Search & Edit"})]}),("all"===y||"review"===y)&&(0,r.jsx)("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"0 8px 8px 8px",marginBottom:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"flex-end"},children:[(0,r.jsxs)("div",{style:{flex:1,minWidth:"180px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"4px",fontWeight:"500"},children:"Filter"}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>f(e.target.value),placeholder:"Filter by name or email...",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}})]}),(0,r.jsxs)("div",{style:{width:"120px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"4px",fontWeight:"500"},children:"State"}),(0,r.jsxs)("select",{value:h,onChange:e=>g(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"},children:[(0,r.jsx)("option",{value:"",children:"All"}),a.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),"all"===y&&(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",paddingBottom:"8px",cursor:"pointer"},children:[(0,r.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked),style:{width:"14px",height:"14px"}}),(0,r.jsxs)("span",{style:{fontSize:"13px",color:"#475569"},children:["Needs cards (",G,")"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,r.jsx)("button",{onClick:()=>{let e=O.filter(e=>d(e.referral_count,e.cards_sent)>0&&e.address);if(0===e.length)return void alert("No attorneys with complete addresses need cards");let t=`<!DOCTYPE html>
<html><head><title>Attorney Mailing Labels</title>
<style>
@page { size: 8.5in 5.5in; margin: 0; }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; }
.label { width: 8.5in; height: 5.5in; padding: 0.5in; page-break-after: always; position: relative; }
.label:last-child { page-break-after: avoid; }
.return-address { position: absolute; top: 0.4in; left: 0.4in; display: flex; align-items: flex-start; gap: 0.25in; }
.logo { width: 1.1in; height: auto; }
.return-text { font-size: 10pt; line-height: 1.4; color: #1a365d; }
.company-name { font-size: 11pt; font-weight: bold; color: #2563eb; margin-top: 0.08in; }
.recipient { position: absolute; bottom: 1.2in; left: 3.2in; font-size: 13pt; line-height: 1.5; }
.firm-name { font-weight: bold; font-size: 14pt; margin-bottom: 2px; }
.attorney-name { font-size: 13pt; }
.address-line { font-size: 13pt; }
</style></head><body>
${e.map(e=>`<div class="label">
<div class="return-address"><img src="/logo.png" alt="PKF" class="logo" /><div>
<div class="return-text">PO BOX 1265</div>
<div class="return-text">MOUNT PLEASANT TX 75456-1265</div>
<div class="company-name">Putting Kids First \xae</div></div></div>
<div class="recipient">
${e.firm_name?`<div class="firm-name">${e.firm_name.toUpperCase()}</div>`:""}
<div class="attorney-name">${o(e).toUpperCase()}</div>
<div class="address-line">${(e.address||"").toUpperCase()}</div>
<div class="address-line">${(e.city||"").toUpperCase()} ${(e.state||"").toUpperCase()} ${e.zip||""}</div>
</div></div>`).join("\n")}
</body></html>`,i=window.open("","_blank");i&&(i.document.write(t),i.document.close(),setTimeout(()=>i.print(),500))},style:{padding:"8px 16px",backgroundColor:"#16a34a",color:"#fff",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"13px"},children:"\uD83D\uDDA8️ Print Labels"}),(0,r.jsx)("button",{onClick:()=>{let e="Name,Firm,Email,Address,City,State,Zip,Cards Sent,Referrals,Cards Needed\n"+O.map(e=>[o(e),e.firm_name||"",e.email||"",e.address||"",e.city||"",e.state||"",e.zip||"",e.cards_sent,e.referral_count,d(e.referral_count,e.cards_sent)].map(e=>`"${e}"`).join(",")).join("\n"),t=document.createElement("a");t.href=URL.createObjectURL(new Blob([e],{type:"text/csv"})),t.download="attorneys.csv",t.click()},style:{padding:"8px 16px",backgroundColor:"#2563eb",color:"#fff",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"13px"},children:"Export CSV"})]})]})}),"search"===y&&(0,r.jsxs)("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"0 8px 8px 8px",marginBottom:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("input",{type:"text",value:A,onChange:e=>W(e.target.value),placeholder:"Search by name, firm, or email...",style:{width:"100%",maxWidth:"400px",padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px"},autoFocus:!0}),N&&(0,r.jsx)("span",{style:{marginLeft:"12px",color:"#64748b"},children:"Searching..."})]}),B.length>0?(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"Name"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"Firm"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"Email"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"State"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"Referrals"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569"},children:"Actions"})]})}),(0,r.jsx)("tbody",{children:B.map((e,t)=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",backgroundColor:e.needs_review?"#fefce8":t%2==0?"#fff":"#fafbfc"},children:[(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"14px",color:"#1e293b",fontWeight:"500"},children:o(e)}),(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"13px",color:"#64748b"},children:e.firm_name||"-"}),(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"12px",color:"#64748b"},children:e.email||"-"}),(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"14px",textAlign:"center",color:"#64748b"},children:e.state||"-"}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center",fontSize:"14px",fontWeight:"600",color:"#1e293b"},children:e.referral_count}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center"},children:(0,r.jsx)("button",{onClick:()=>J(e),style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"#fff",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"12px"},children:"Edit"})})]},e.id))})]}):A.length>=2?(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"No results found"}):(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Enter at least 2 characters to search"})]}),"all"===y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"8px"},children:["Showing ",O.length," of ",i," attorneys"]}),(0,r.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:p?(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading..."}):(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[(0,r.jsxs)("th",{onClick:()=>U("name"),style:{...Q("name"),textAlign:"left",paddingLeft:"16px"},children:["Name ",(0,r.jsx)(V,{field:"name"})]}),(0,r.jsxs)("th",{onClick:()=>U("email"),style:{...Q("email"),textAlign:"left"},children:["Email ",(0,r.jsx)(V,{field:"email"})]}),(0,r.jsxs)("th",{onClick:()=>U("state"),style:Q("state","70px"),children:["State ",(0,r.jsx)(V,{field:"state"})]}),(0,r.jsxs)("th",{onClick:()=>U("cards_sent"),style:Q("cards_sent","110px"),children:["Cards Sent ",(0,r.jsx)(V,{field:"cards_sent"})]}),(0,r.jsxs)("th",{onClick:()=>U("referral_count"),style:Q("referral_count","100px"),children:["Referrals ",(0,r.jsx)(V,{field:"referral_count"})]}),(0,r.jsxs)("th",{onClick:()=>U("cards_needed"),style:Q("cards_needed","120px"),children:["Cards Needed ",(0,r.jsx)(V,{field:"cards_needed"})]}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569",width:"70px"},children:"Edit"})]})}),(0,r.jsx)("tbody",{children:O.map((e,t)=>{let i=d(e.referral_count,e.cards_sent);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",backgroundColor:e.needs_review?"#fefce8":t%2==0?"#fff":"#fafbfc"},children:[(0,r.jsx)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#1e293b"},children:o(e)}),(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"12px",color:"#64748b"},children:e.email||"-"}),(0,r.jsx)("td",{style:{padding:"12px 8px",fontSize:"14px",textAlign:"center",color:"#64748b"},children:e.state||"-"}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center"},children:j===e.id?(0,r.jsx)("input",{type:"number",value:S,onChange:e=>C(e.target.value),onBlur:()=>P(e.id,parseInt(S)||0),onKeyDown:t=>{"Enter"===t.key&&P(e.id,parseInt(S)||0),"Escape"===t.key&&v(null)},style:{width:"60px",padding:"4px",textAlign:"center",border:"2px solid #3b82f6",borderRadius:"4px",fontSize:"14px"},autoFocus:!0}):(0,r.jsx)("span",{onClick:()=>{v(e.id),C(String(e.cards_sent))},style:{cursor:"pointer",padding:"4px 10px",borderRadius:"4px",backgroundColor:"#f1f5f9",color:"#1e293b",fontSize:"14px",fontWeight:"500"},title:"Click to edit",children:e.cards_sent})}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center",fontSize:"14px",color:"#64748b"},children:e.referral_count}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center"},children:i>0?(0,r.jsx)("span",{style:{backgroundColor:"#fef2f2",color:"#dc2626",padding:"3px 10px",borderRadius:"10px",fontWeight:"700",fontSize:"13px"},children:i}):(0,r.jsx)("span",{style:{color:"#94a3b8",fontSize:"14px"},children:"0"})}),(0,r.jsx)("td",{style:{padding:"12px 8px",textAlign:"center"},children:(0,r.jsx)("button",{onClick:()=>J(e),style:{padding:"4px 8px",backgroundColor:"#e2e8f0",color:"#475569",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"12px"},children:"✏️"})})]},e.id)})})]})})]}),"review"===y&&(0,r.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:p?(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading..."}):(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569",width:"170px"},children:"Name"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569",width:"200px"},children:"Firm Name"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569",width:"200px"},children:"Email"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569",width:"310px"},children:"Address"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#475569",width:"160px"},children:"City"}),(0,r.jsx)("th",{style:{padding:"12px 4px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569",width:"40px"},children:"ST"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569",width:"100px"},children:"Zip"}),(0,r.jsx)("th",{style:{padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"700",color:"#475569",width:"70px"},children:"Done"})]})}),(0,r.jsxs)("tbody",{children:[O.filter(e=>e.needs_review).map(e=>(0,r.jsxs)("tr",{style:{backgroundColor:"#fffbeb",borderBottom:"1px solid #fef3c7"},children:[(0,r.jsx)("td",{style:{padding:"10px 8px"},children:(0,r.jsx)("input",{type:"text",defaultValue:o(e),onBlur:t=>{let i=t.target.value.trim().split(" "),r=i[0]||"",n=i.slice(1).join(" ")||"";Z(e.id,"first_name",r),Z(e.id,"last_name",n)},placeholder:"Name",style:{width:"100%",padding:"6px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"13px"}})}),(0,r.jsx)("td",{style:{padding:"10px 8px"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.firm_name||"",onBlur:t=>Z(e.id,"firm_name",t.target.value),placeholder:"Firm name",style:{width:"100%",padding:"6px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"13px"}})}),(0,r.jsx)("td",{style:{padding:"10px 8px"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.email||"",onBlur:t=>Z(e.id,"email",t.target.value),placeholder:"Email",style:{width:"100%",padding:"6px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"12px"}})}),(0,r.jsx)("td",{style:{padding:"10px 8px"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.address||"",onBlur:t=>Z(e.id,"address",t.target.value),placeholder:"Enter address",style:{width:"100%",padding:"6px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"13px"}})}),(0,r.jsx)("td",{style:{padding:"10px 8px"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.city||"",onBlur:t=>Z(e.id,"city",t.target.value),placeholder:"City",style:{width:"100%",padding:"6px 8px",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"13px"}})}),(0,r.jsx)("td",{style:{padding:"10px 4px",textAlign:"center"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.state||"",onBlur:t=>Z(e.id,"state",t.target.value.toUpperCase()),style:{width:"36px",padding:"6px 2px",textAlign:"center",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"12px"},maxLength:2})}),(0,r.jsx)("td",{style:{padding:"10px 8px",textAlign:"center"},children:(0,r.jsx)("input",{type:"text",defaultValue:e.zip||"",onBlur:t=>Z(e.id,"zip",t.target.value),placeholder:"Zip",style:{width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"13px"}})}),(0,r.jsx)("td",{style:{padding:"10px 8px",textAlign:"center"},children:(0,r.jsx)("button",{onClick:()=>q(e.id),style:{padding:"5px 10px",backgroundColor:"#dcfce7",color:"#166534",borderRadius:"5px",border:"none",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"✓"})})]},e.id)),0===O.filter(e=>e.needs_review).length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:8,style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"No attorneys need review"})})]})]})})]}),I&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1e3},children:(0,r.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 25px 50px rgba(0,0,0,0.25)",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,r.jsx)("div",{style:{padding:"20px",borderBottom:"1px solid #e2e8f0"},children:(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b",margin:0},children:"Edit Attorney"})}),(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"First Name"}),(0,r.jsx)("input",{type:"text",value:D.first_name||"",onChange:e=>T({...D,first_name:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Last Name"}),(0,r.jsx)("input",{type:"text",value:D.last_name||"",onChange:e=>T({...D,last_name:e.target.value}),style:ee})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Firm Name"}),(0,r.jsx)("input",{type:"text",value:D.firm_name||"",onChange:e=>T({...D,firm_name:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Email"}),(0,r.jsx)("input",{type:"email",value:D.email||"",onChange:e=>T({...D,email:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Phone"}),(0,r.jsx)("input",{type:"text",value:D.phone||"",onChange:e=>T({...D,phone:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Address"}),(0,r.jsx)("input",{type:"text",value:D.address||"",onChange:e=>T({...D,address:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"City"}),(0,r.jsx)("input",{type:"text",value:D.city||"",onChange:e=>T({...D,city:e.target.value}),style:ee})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"State"}),(0,r.jsxs)("select",{value:D.state||"",onChange:e=>T({...D,state:e.target.value}),style:ee,children:[(0,r.jsx)("option",{value:"",children:"Select"}),a.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"ZIP"}),(0,r.jsx)("input",{type:"text",value:D.zip||"",onChange:e=>T({...D,zip:e.target.value}),style:ee})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Referral Count"}),(0,r.jsx)("input",{type:"number",value:D.referral_count||0,onChange:e=>T({...D,referral_count:parseInt(e.target.value)||0}),style:ee})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#475569",marginBottom:"4px"},children:"Cards Sent"}),(0,r.jsx)("input",{type:"number",value:D.cards_sent||0,onChange:e=>T({...D,cards_sent:parseInt(e.target.value)||0}),style:ee})]})]}),(0,r.jsx)("div",{style:{marginBottom:"16px"},children:(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,r.jsx)("input",{type:"checkbox",checked:D.needs_review||!1,onChange:e=>T({...D,needs_review:e.target.checked}),style:{width:"16px",height:"16px"}}),(0,r.jsx)("span",{style:{fontSize:"14px",color:"#475569"},children:"Needs Review"})]})})]}),(0,r.jsxs)("div",{style:{padding:"20px",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:H,style:{padding:"10px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Delete"}),(0,r.jsx)("button",{onClick:K,style:{padding:"10px 16px",backgroundColor:"#fef3c7",color:"#d97706",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Merge"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>L(null),style:{padding:"10px 16px",backgroundColor:"#f1f5f9",color:"#475569",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Cancel"}),(0,r.jsx)("button",{onClick:Y,disabled:F,style:{padding:"10px 16px",backgroundColor:"#3b82f6",color:"#fff",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",opacity:F?.5:1},children:F?"Saving...":"Save Changes"})]})]})]})})]})}}},e=>{e.O(0,[5666,8441,3794,7358],()=>e(e.s=2085)),_N_E=e.O()}]);